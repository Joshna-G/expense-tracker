(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[724],{5924:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var n=r(7876),i=r(6101),o=r(1134),d=r(1047);function s(e){let{data:t}=e,r=Array.from(new Set(t.map(e=>e.category))),i=r.map(e=>t.filter(t=>t.category===e).reduce((e,t)=>e+t.amount,0));return(0,n.jsx)(o.yP,{data:{labels:r,datasets:[{label:"Expenses",data:i,backgroundColor:"rgba(231, 161, 248, 0.7)"}]}})}function a(e){let{expenses:t}=e;return(0,n.jsxs)("div",{style:{padding:"1.5rem",backgroundColor:"white",borderRadius:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",marginBottom:"1.5rem"},children:[(0,n.jsx)("h3",{style:{marginTop:0,marginBottom:"1rem",color:"#6a0dad",fontSize:"1.25rem",borderBottom:"2px solid #f0f0f0",paddingBottom:"0.5rem"},children:"Expense History"}),0===t.length?(0,n.jsx)("p",{style:{textAlign:"center",color:"#6c757d",fontStyle:"italic"},children:"No expenses recorded yet"}):(0,n.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto",paddingRight:"0.5rem"},children:t.map((e,t)=>(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem 0",borderBottom:"1px solid #f5f5f5"},children:[(0,n.jsxs)("div",{style:{flex:2},children:[(0,n.jsx)("p",{style:{margin:0,fontWeight:"bold",color:"#333"},children:e.title}),(0,n.jsxs)("p",{style:{margin:"0.25rem 0 0 0",fontSize:"0.875rem",color:"#6c757d"},children:[new Date(e.date).toLocaleDateString()," • ",e.category]})]}),(0,n.jsxs)("div",{style:{flex:1,textAlign:"right",fontWeight:"bold",color:"#dc3545",fontSize:"1.1rem"},children:["₹",Number(e.amount).toLocaleString("en-IN")]})]},t))})]})}d.t1.register(d.E8,d.PP,d.kc);var l=r(7735);function c(e){let{expenses:t=[],budget:r=0}=e,i=t.reduce((e,t)=>{let r=Number(null==t?void 0:t.amount)||0;return e+(isNaN(r)?0:r)},0),o=isNaN(Number(r))?0:Number(r),d=o-i,s=o>0?i/o*100:0,a=e=>{let t=isNaN(e)?0:e;return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t).replace("₹","₹")};return(0,n.jsxs)("div",{style:{padding:"1.5rem",backgroundColor:"#f8f9fa",borderRadius:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",marginBottom:"1.5rem"},children:[(0,n.jsx)("h3",{style:{marginTop:0,marginBottom:"1rem",color:"#6a0dad",fontSize:"1.25rem"},children:"Budget Overview"}),(0,n.jsx)("div",{style:{height:"10px",backgroundColor:"#e9ecef",borderRadius:"5px",marginBottom:"1.5rem",overflow:"hidden"},children:(0,n.jsx)("div",{style:{width:"".concat(Math.min(s,100),"%"),height:"100%",backgroundColor:s>80?"#dc3545":"#6a0dad",transition:"width 0.3s ease"}})}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:"1rem",flexWrap:"wrap"},children:[(0,n.jsxs)("div",{style:{flex:1,minWidth:"120px"},children:[(0,n.jsx)("p",{style:{margin:"0.25rem 0",fontSize:"0.875rem",color:"#6c757d"},children:"Total Budget"}),(0,n.jsx)("p",{style:{margin:0,fontSize:"1.5rem",fontWeight:"bold",color:"#6a0dad"},children:a(o)})]}),(0,n.jsxs)("div",{style:{flex:1,minWidth:"120px"},children:[(0,n.jsx)("p",{style:{margin:"0.25rem 0",fontSize:"0.875rem",color:"#6c757d"},children:"Total Spent"}),(0,n.jsx)("p",{style:{margin:0,fontSize:"1.5rem",fontWeight:"bold",color:"#dc3545"},children:a(i)})]}),(0,n.jsxs)("div",{style:{flex:1,minWidth:"120px"},children:[(0,n.jsx)("p",{style:{margin:"0.25rem 0",fontSize:"0.875rem",color:"#6c757d"},children:"Remaining"}),(0,n.jsxs)("p",{style:{margin:0,fontSize:"1.5rem",fontWeight:"bold",color:d>=0?"#28a745":"#dc3545"},children:[a(Math.abs(d)),d<0&&" (Over)"]})]})]})]})}var x=r(4232);function m(){let[e,t]=(0,x.useState)([]),[r,o]=(0,x.useState)(5e3);return(0,x.useEffect)(()=>{fetch("/api/expenses").then(e=>e.json()).then(t)},[]),(0,n.jsx)(i.A,{children:(0,n.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"20px"},children:[(0,n.jsx)("h2",{style:{color:"#6a0dad",marginBottom:"30px"},children:"Dashboard"}),(0,n.jsxs)("div",{style:{backgroundColor:"#f8f9fa",padding:"20px",borderRadius:"10px",marginBottom:"30px",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"},children:[(0,n.jsx)("h3",{style:{color:"#6a0dad",marginTop:0},children:"Budget Overview"}),(0,n.jsx)(c,{expenses:e,budget:r})]}),(0,n.jsx)("div",{style:{marginBottom:"30px"},children:(0,n.jsx)(s,{data:e})}),(0,n.jsxs)("div",{style:{backgroundColor:"#f8f9fa",padding:"20px",borderRadius:"10px",marginBottom:"30px",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"},children:[(0,n.jsx)("h3",{style:{color:"#6a0dad",marginTop:0},children:"Recent Expenses"}),(0,n.jsx)(a,{expenses:e})]}),(0,n.jsx)(l.A,{data:e})]})})}},6101:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r(7876),i=r(8230),o=r.n(i);function d(e){let{children:t}=e;return(0,n.jsxs)("div",{style:s,children:[(0,n.jsxs)("aside",{style:a,children:[(0,n.jsx)("h2",{style:l,children:"\uD83D\uDCB8 Expense Tracker"}),(0,n.jsxs)("nav",{style:c,children:[(0,n.jsx)(o(),{href:"/",style:x,children:(0,n.jsxs)("div",{style:m,children:[(0,n.jsx)("span",{children:"\uD83C\uDFE0"})," Home"]})}),(0,n.jsx)(o(),{href:"/add-expense",style:x,children:(0,n.jsxs)("div",{style:m,children:[(0,n.jsx)("span",{children:"\uD83D\uDCB5"})," Add Expense"]})}),(0,n.jsx)(o(),{href:"/dashboard",style:x,children:(0,n.jsxs)("div",{style:m,children:[(0,n.jsx)("span",{children:"\uD83D\uDCCA"})," Dashboard"]})}),(0,n.jsx)(o(),{href:"/expense-list",style:x,children:(0,n.jsxs)("div",{style:m,children:[(0,n.jsx)("span",{children:"\uD83D\uDCCB"})," Expense List"]})})]})]}),(0,n.jsx)("main",{style:p,children:t})]})}let s={display:"flex",minHeight:"100vh"},a={width:"250px",backgroundColor:"#c582f5",color:"#530b86",padding:"1.5rem 1rem",position:"fixed",height:"100vh",boxSizing:"border-box"},l={fontSize:"1.5rem",marginBottom:"2rem",paddingBottom:"1rem",borderBottom:"1px solid rgba(255,255,255,0.2)"},c={display:"flex",flexDirection:"column",gap:"0.5rem"},x={color:"#530b86",textDecoration:"none"},m={padding:"0.75rem 1rem",borderRadius:"5px",display:"flex",alignItems:"center",gap:"0.75rem",transition:"background-color 0.2s"},p={flex:1,marginLeft:"250px",padding:"2rem",backgroundColor:"#f8f9fa",minHeight:"100vh"}},7580:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return r(5924)}])},7735:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(7876);let i=e=>{let t=new Blob([e.map(e=>Object.values(e).join(",")).join("\n")],{type:"text/csv"}),r=URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download="expenses.csv",n.click()};var o=r(4312),d=r(9665);let s=e=>{let t=new o.Ay;t.text("Expense Report",14,10);let r=e.map(e=>[e.title,e.amount,e.category,new Date(e.date).toLocaleDateString()]);(0,d.Ay)(t,{head:[["Title","Amount","Category","Date"]],body:r,startY:20}),t.save("expenses.pdf")};function a(e){let{data:t}=e;return(0,n.jsxs)("div",{style:{padding:"1rem"},children:[(0,n.jsx)("button",{onClick:()=>{if(!t||0===t.length)return void alert("No data available to export.");i(t)},style:l,children:"Export to CSV"}),(0,n.jsx)("button",{onClick:()=>{if(!t||0===t.length)return void alert("No data available to export.");s(t)},style:l,children:"Export to PDF"})]})}let l={marginRight:"10px",padding:"10px 20px",fontSize:"16px",backgroundColor:"#d9adf9",color:"#530b86",border:"none",borderRadius:"5px",cursor:"pointer"}}},e=>{var t=t=>e(e.s=t);e.O(0,[347,697,230,307,718,636,593,792],()=>t(7580)),_N_E=e.O()}]);